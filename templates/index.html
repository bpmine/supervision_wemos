<!DOCTYPE html>
<html lang="fr">
<head>
  <title>Supervision wemos</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container mt-3">
  <h2>Pompes :</h2>
  <ul class="list-group list-group-horizontal">
  <li class="list-group-item">
  {%for module in modules%}
  <div class="card" style="width:400px;background-color: pink;">
    <div class="card-body">
      {% if module['valid'] == True%}
        <h4 class="card-title">{{module['name']}} <br><span class="badge rounded-pill bg-success">En ligne</span></h4>
        {% if module['n3'] == True %}
        <button type="button" class="btn btn-primary">Haut</button>
      {% else %}
        <button type="button" class="btn btn-secondary">Haut</button>
      {% endif %}
      <br><br>
      {% if module['n2'] == True %}
        <button type="button" class="btn btn-primary">Millieu</button>
      {% else %}
        <button type="button" class="btn btn-secondary">Millieu</button>
      {% endif %}
        {% if module['cmd'] == True %}
          <button type="button" class="btn btn-primary">Pompe</button>
        {% else %}
          <button type="button" class="btn btn-secondary">Pompe</button>
        {% endif %}
      <br><br>
      {% if module['n1'] == True %}
        <button type="button" class="btn btn-primary">Bas</button>
      {% else %}
        <button type="button" class="btn btn-secondary">Bas</button>
      {% endif %}
      {% else %}
        <h4 class="card-title">{{module['name']}} <br><span class="badge rounded-pill bg-danger">Hors ligne</span></h4>
      {% endif %}
    </div>
  </div>
  <br>
  {%endfor%}
  </li>
  <li class="list-group-item">
    {%for remplissage in remplissages%}
        <div class="card" style="width:400px;background-color: pink;">
            <div class="card-body">
                <h4 class="card-title">{{remplissage['name']}}</h4>
                <input type="range" orient="vertical" value="{{remplissage['limit_src']}}" min="0" max="2"/>
                <div class="form-check form-switch">
                    {% if remplissage['on'] == True %}
                        <input class="form-check-input" type="checkbox" id="mySwitch" name="darkmode" value="yes" checked>
                    {% else %}
                        <input class="form-check-input" type="checkbox" id="mySwitch" name="darkmode" value="yes">
                    {% endif %}
                    <label class="form-check-label" for="mySwitch">Remplir</label>
                </div>
                <input type="range" orient="vertical" value="{{remplissage['cons_tgt']}}" min="0" max="2"/>
            </div>
        </div>
        <br>
    {%endfor%}
  </li>
  </ul>
  <br>
</div>
</body>
</html>
